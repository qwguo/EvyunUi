!function(t,u){var c=function(p){var o=this;if(o.topWindow=t.top,o.topDocument=t.top.document,p){var e={addTarget:u("body"),type:1,win:t,className:"",shade:{bgColor:"#000000",opacity:.5,close:!1},size:{full:0,width:"auto",height:"auto"},position:{fixed:1,pos:"m-c"},animate:["zoomIn","zoomOut"],autoClose:!1,move:0,head:"默认标题",opBtn:{close:1,min:1,max:1},con:{html:"提示信息",icon:1,src:null,btn:null},closeCallBack:null,styleCss:null};p.addTarget=p.addTarget||u("body"),o.j=u.extend(!0,{},e,p),o.createDom()}};c.prototype={constructor:c,popupId:0,allPopupList:null,alertType:["alert","html","iframe","loading","taps","tab"],alertIcon:['<i class="evicon evicon-right-1 text-success"></i>','<i class="evicon evicon-close-2 text-warning"></i>','<i class="evicon evicon-point-2 text-info"></i>','<i class="evicon load-wait-1"></i>'],winAttr:function(){var p=u(t),o=u(document);return{winW:p.width(),winH:p.height(),docW:o.width(),docH:o.height(),docST:o.scrollTop(),docSL:o.scrollLeft(),popupW:this.popup.width(),popupH:this.popup.height()}},randomS:function(p){var o,e="12345qwertyuiopasdfgh67890jklmnbvcxzMNBVCZXASDQWERTYHGFUIOLKJP",t=e.length,i="";for(p=p||5,o=0;o<p;o++)i+=e.charAt(Math.floor(Math.random()*t));return i},maxZindex:function(){var t=[];return this.j.addTarget.children().each(function(p,o){var e=(o=u(o)).css("z-index");!isNaN(e)&&t.push(1*e)}),Math.max(Math.max.apply(null,t),1e3)},createDom:function(){var o=this,e=o.j,p=[],t=[],i=[];o.originWindow=e.win,o.originDocument=e.win.document,o.popupId=o.randomS(5),o.maxZindex(),o.zIndex=o.maxZindex()+1;var a,n,s=o.topWindow.evPopup,l=!0;s&&s["popup_"+o.popupId]&&(o.popupId=o.randomS(5)),s&&u.each(s,function(p,o){if(o)return l=null,!1}),l&&(s=o.topWindow.evPopup={}),s["popup_"+o.popupId]=o,e.shade&&(a=["z-index:"+o.zIndex++],e.shade.bgColor&&a.push(" background-color:"+e.shade.bgColor),!isNaN(e.shade.opacity)&&("string"==typeof e.shade.opacity||"number"==typeof e.shade.opacity)&&a.push(" opacity:"+e.shade.opacity),o.popupShade=u("<div/>",{class:"popup-shade",id:"popupShade_"+o.popupId,style:a.join(";")}).appendTo(e.addTarget),e.shade.close&&o.popupShade.on("click",function(){o.popupClose()})),e.head&&p.push('<div class="popup-head"><span class="popup-title">'+(e.head||"")+"</span></div>"),e.opBtn&&(t.push('<div class="popup-option">'),e.opBtn.min&&t.push('<i class="evicon evicon-resize-xs-1" data-action="min" title="最小化"></i>'),e.opBtn.max&&t.push('<i class="evicon evicon-resize-lg-1" data-action="max" title="最大化"></i><i class="evicon evicon-resize-orig-1" data-action="orig" title="还原"></i>'),e.opBtn.close&&t.push('<i class="evicon evicon-close-1" data-action="close" title="关闭"></i>'),t.push("</div>")),function(){switch(i.push('<div class="popup-body"><div class="popup-body-inside">'),e.type){case 1:i.push('<div class="popup-alert-con"><div class="popup-hint-info">'),e.con.icon&&i.push(o.alertIcon[e.con.icon-1]||o.alertIcon[0]),e.con.html&&i.push(e.con.html),i.push("</div></div>"),e.con.btn&&(i.push('<div class="popup-but-area"><span class="popup-but">'),u.each(e.con.btn,function(p,o){i.push('<a href="javascript:;" data-btn-index="'+p+'" data-action="btn" class="btn btn-sm '+(o.className||"")+'">'+o.text+"</a>")}),i.push("</span></div>"));break;case 2:i.push('<div class="popup-layer-con">'),i.push(e.con.html?e.con.html instanceof jQuery?e.con.html.html():e.con.html:"<p>html代码</p>"),i.push("</div>");break;case 3:i.push('<div class="popup-iframe-con"><div class="popup-loading-wait"></div>'),i.push('<iframe src="'+e.con.src+'" frameborder="0" allowTransparency="true" name="popup_'+o.popupId+'" id="popup_iframe_'+o.popupId+'"></iframe>'),i.push("</div>");break;case 4:i.push('<div class="popup-loading-con"><div class="loading-type-'+e.con.icon+'"></div></div>')}i.push("</div></div>")}(),n=["z-index:"+o.zIndex++],!isNaN(e.size.width)&&n.push(" width:"+e.size.width+"px"),!isNaN(e.size.height)&&n.push(" height:"+e.size.height+"px"),e.styleCss&&n.push(e.styleCss),o.popup=u("<div/>",{class:"popup popup-"+o.alertType[e.type-1]+(e.className?" "+e.className:"")+(e.animate&&e.animate.length?" "+e.animate[0]:""),style:n.join(";"),id:"popup_"+o.popupId,html:t.join("")+p.join("")+i.join("")}),e.animate&&e.animate.length&&o.popup.attr("data-animated",e.animate),o.popup.appendTo(e.addTarget),o.popup.on({click:function(){var p=u(this);switch(p.data("action")){case"min":o.popupMin();break;case"max":o.popupMax();break;case"orig":o.popupOrig();break;case"close":o.popupClose();break;case"btn":e.con.btn&&e.con.btn[p.data("btnIndex")].callBack&&e.con.btn[p.data("btnIndex")].callBack(p,o.popup),e.con.btn[p.data("btnIndex")].noClose||o.popupClose()}}},".popup-option .evicon,.popup-but .btn"),setTimeout(function(){o.popupCountWH(),o.popupOffset(),o.popupDrag(),e.size.full&&o.popupMax()}),isNaN(e.autoClose)||"string"!=typeof e.autoClose&&"number"!=typeof e.autoClose||setTimeout(function(){o.popupClose()},1e3*e.autoClose),(c.prototype.allPopupList=c.prototype.allPopupList||{})["popup_"+o.popupId]=o},popupOffset:function(){var p=this,o=p.j,e={"t-l":{left:0,top:0},"t-c":{left:"50%",top:0,"margin-left":-p.popup.width()/2+"px"},"t-r":{right:0,top:0},"m-l":{left:0,top:"50%","margin-top":-p.popup.height()/2+"px"},"m-c":{left:"50%",top:"50%","margin-top":-p.popup.height()/2+"px","margin-left":-p.popup.width()/2+"px"},"m-r":{right:0,top:"50%","margin-top":-p.popup.height()/2+"px"},"b-l":{left:0,bottom:0},"b-c":{left:"50%",bottom:0,"margin-left":-p.popup.width()/2+"px"},"b-r":{right:0,bottom:0}};!1===o.position.fixed&&p.popup.css({position:"absolute"}),p.popup.css(e[o.position.pos]||e["m-c"])},popupCountWH:function(){var p,o,e,t=this,i=t.j,a=t.winAttr();switch(i.type){case 3:(e=t.popup.find("iframe")).on("load.resize",function(){var p,o;e.siblings(".popup-loading-wait").remove(),e[0].contentWindow.iframeNumber=t.popupId,e[0].contentWindow.popup=t,i.size.full?e.css({width:"100%",height:t.popup.height()-(i.head?t.popup.find(".popup-head").outerHeight()+5:0)+"px"}):e.css({width:("auto"===i.size.width?e.contents().width():i.size.width)+"px",height:("auto"===i.size.height?e.contents().height():i.size.height-(i.head?t.popup.find(".popup-head").outerHeight()+5:0))+"px"}),p=i.size.width,o=i.size.height,p="auto"===p?t.popup.width():p,o="auto"===o?t.popup.height():o,p=p>a.winW?a.winW-10:p,o=o>a.winH?a.winH-10:o,t.popup.css({width:p+"px",height:o+"px"}),e.css({width:p+"px",height:o-(i.head?t.popup.find(".popup-head").outerHeight()+5:0)+"px"}),t.popupOffset()});break;default:p=i.size.width,o=i.size.height,"auto"!==i.size.width&&(p=p>a.winW?a.winW-10:p,t.popup.css("width",p+"px")),"auto"!==o&&(o=o>a.winH?a.winH-10:o,t.popup.css("height",o+"px"))}},popupMin:function(){var p=this,o=p.j;!p.originStyle&&(p.originStyle=p.popup.attr("style"));var e=p.popup.css("z-index"),t="bottom: 0; left:"+210*o.addTarget.find(".popup-size-min").length+"px; margin: 0; z-index:"+e+";";p.popup.addClass("popup-size-min").removeClass("popup-size-max").attr({style:t}),p.popupShade&&p.popupShade.hide()},popupMax:function(){var p=this;!p.originStyle&&(p.originStyle=p.popup.attr("style"));var o="z-index:"+p.popup.css("z-index")+";";p.popup.addClass("popup-size-max").removeClass("popup-size-min").attr({style:o}),p.popupShade&&p.popupShade.show()},popupOrig:function(){var p=this,o=p.j;p.popup.removeClass("popup-size-max popup-size-min").attr({style:p.originStyle}),p.popupShade&&p.popupShade.show(),o.size.full&&o.opBtn&&o.opBtn.max&&p.popupOffset()},popupHide:function(){var p=this,o=p.j;o.animate&&o.animate.length&&p.popup.removeClass(o.animate[0]||"").addClass(o.animate[1]||""),setTimeout(function(){p.popup.hide(),p.popupShade&&p.popupShade.hide()},o.animate[1]?210:0)},popupShow:function(){var p=this,o=p.j;p.popup.show(),p.popupShade&&p.popupShade.show(),o.animate&&o.animate.length&&p.popup.removeClass(o.animate[1]||"").addClass(o.animate[0]||"")},popupClose:function(){var p=this,o=p.j;o.animate&&o.animate.length&&p.popup.removeClass(o.animate[0]||"").addClass(o.animate[1]||""),setTimeout(function(){"function"==typeof o.closeCallBack&&o.closeCallBack(),p.popup.remove(),p.popupShade&&p.popupShade.remove(),p.allPopupList&&(p.allPopupList["popup_"+p.popupId]=null),p.topWindow.evPopup&&(p.topWindow.evPopup["popup_"+p.popupId]=null),p=null},o.animate[1]?210:0)},popupCloseAll:function(){this.allPopupList&&u.each(this.allPopupList,function(p,o){o&&o.popupClose()})},popupCloseWinAll:function(){this.topWindow.evPopup&&u.each(this.topWindow.evPopup,function(p,o){o&&o.popupClose()})},popupDrag:function(){this.j.head&&u.fn.drag&&this.popup.drag({randomPosition:!1,direction:"all",handler:".popup-head"})}},u.evPopup=function(p){return new c(p)},u.evPopupAlert=function(p){var e={type:1,position:{pos:"m-c"},shade:{close:0},opBtn:{close:1,min:0,max:0},size:{width:300},con:{html:"提示信息",icon:3,btn:{btn0:{text:"确定",className:"btn-primary"}}}};return void 0!==p.head&&(e.head=p.head),p.hint&&(e.con.html=-1!==p.hint.indexOf("<")?p.hint:'<span class="hint-text">'+p.hint+"</span>"),p.icon&&(e.con.icon=p.icon),p.win&&(e.win=p.win),p.position&&(e.position.pos=p.position),null!=p.shade&&(e.shade=p.shade?u.extend(!0,{},e.shade,p.shade):p.shade),p.btn&&(u.isArray(p.btn)?u.each(p.btn,function(p,o){e.con.btn["btn"+p]=u.extend(!0,{},e.con.btn["btn"+p],o)}):e.con.btn.btn0=u.extend(!0,{},e.con.btn.btn0,p.btn)),p.animate&&(e.animate=p.animate),p.closeCallBack&&(e.closeCallBack=e.closeCallBack),p.styleCss&&(e.styleCss=p.styleCss),new c(e)},u.evPopupPoint=function(p){var o=!1,e={type:1,head:!1,className:"",shade:{close:0},position:{pos:"m-c"},opBtn:!1,con:{html:'<span class="hint-text">提示信息</span>',icon:1,btn:!1},autoClose:1};switch(p.hint&&(e.con.html=-1!==p.hint.indexOf("<")?p.hint:'<span class="hint-text">'+p.hint+"</span>"),void 0!==p.icon&&(e.con.icon=p.icon),void 0!==p.shade&&(e.shade=p.shade?u.extend(!0,{},e.shade,p.shade):p.shade),p.position&&(e.position.pos=p.position),p.style){case"block":o=" block",e.animate=["fadeInDown","fadeOutUp"],e.shade=!1,e.position.pos=p.position?p.position:"t-c"}return p.animate&&(e.animate=p.animate),p.className&&(e.className=p.className+" point"),o&&(e.className=e.className+o),p.closeTime&&(e.autoClose=p.closeTime),p.styleCss&&(e.styleCss=p.styleCss),p.closeCallBack&&(e.closeCallBack=p.closeCallBack),new c(e)},u.evPopupConfirm=function(e){e.btn&&u.isArray(e.btn)&&u.each([{text:"确定",className:"btn-primary"},{text:"取消",className:"btn-outline-danger"}],function(p,o){e.btn[p]=u.extend({},o,e.btn[p])}),u.evPopupAlert(e)},u.evPopupPrompt=function(p){},u.evPopupHtml=function(p){var o,e={type:2,head:"HTML层",position:{pos:"m-c"},opBtn:{close:1,min:0,max:0},size:{width:"auto",height:"auto"},win:t,con:{html:"<p>这是html代码</p>"}};return void 0!==p.head&&(e.head=p.head),p.html&&(e.con.html=((o=p.html)instanceof jQuery?o=o.html():"string"==typeof o&&-1!=u.inArray(o.substr(0,1),[".","#"])&&u(o).length&&(o=u(o).html()),o)),p.width&&(e.size.width=p.width),p.full&&(e.size.full=p.full),p.win&&(e.win=p.win),p.height&&(e.size.height=p.height),null!=p.shade&&(e.shade=p.shade?u.extend(!0,{},e.shade,p.shade):p.shade),p.styleCss&&(e.styleCss=p.styleCss),p.animate&&(e.animate=p.animate),p.closeCallBack&&(e.closeCallBack=p.closeCallBack),new c(e)},u.evPopupLoading=function(p){var o={type:4,head:!1,shade:{close:0},position:{pos:"m-c"},opBtn:!1,con:{icon:1}};return p.icon&&(o.con.icon=p.icon),p.closeTime&&(o.autoClose=p.closeTime),null!=p.shade&&(o.shade=p.shade?u.extend(!0,{},o.shade,p.shade):p.shade),p.closeCallBack&&(o.closeCallBack=p.closeCallBack),new c(u.extend(!0,{},o,p))},u.evPopupIframe=function(p){var o={type:3,position:{pos:"m-c"},size:{},opBtn:{close:1,max:0,min:0},con:{src:"http://www.evyun.cn"}};return void 0!==p.head&&(o.head=p.head),p.width&&(o.size.width=p.width),p.height&&(o.size.height=p.height),p.full&&(o.size.full=p.full),p.win&&(o.win=p.win),p.src&&(o.con.src=p.src),null!=p.shade&&(o.shade=p.shade?u.extend(!0,{},o.shade,p.shade):p.shade),p.styleCss&&(o.styleCss=p.styleCss),p.animate&&(o.animate=p.animate),p.closeCallBack&&(o.closeCallBack=p.closeCallBack),new c(o)},u.evPopupCloseAll=function(){var p=new c;p.popupCloseAll(),p=null},u.evPopupCloseWinAll=function(){var p=new c;p.popupCloseWinAll(),p=null}}(window,jQuery),$(document).on("click.evPopup",'[data-toggle="popup"]',function(p){var o=$(this).data();switch(o.popupType){case"alert":$.evPopupAlert({head:o.popupHead,hint:o.popupHint});break;case"point":$.evPopupPoint({icon:o.popupIcontype,hint:'<span class="hint-text">'+o.popupHint+"</span>",closeTime:o.popupClosetime});break;case"html":$.evPopupHtml({head:o.popupHead,html:o.popupTarget,width:o.popupWidth,height:o.popupHeight});break;case"loading":$.evPopupLoading({icon:o.popupIcontype,closeTime:o.popupClosetime});break;case"iframe":$.evPopupIframe({head:o.popupHead,src:o.popupSrc,width:o.popupWidth,height:o.popupHeight})}});